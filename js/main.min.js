var openGallery1=function(){var e=document.querySelectorAll(".pswp")[0],t=[{src:"/images/galleries/1/1-meng-site-three-am-drum.jpg",w:800,h:668,title:"Born under China’s one-child policy, artist Meng Site’s art speaks to human dimensions of solitary childhoods. 'These wooden beds are like cages that take away freedom,” he says. Even when he paints children in groups, each child “seems pensive and alone,” he says. “By their expressions, all give a sense of loneliness.” (3am Drum, 2013)"},{src:"/images/galleries/1/2-meng-site-the-last-dusk.jpg",w:800,h:598,title:"Meng Site lived a typical boy’s life in China’s Hunan province. He was an only child, raised by grandparents; his parents were migrant laborers. “I let my emotions out; that’s the point of my art,” he says. “Loneliness is a big subject for people who are the only child in a family. My inspirations come from my childhood.” (The Last Dusk, 2013)"},{src:"/images/galleries/1/3-li-tianbing.jpg",w:800,h:640,title:"My generation is unique, in China and in the world,” artist Li Tianbing told The Guardian’s Jon Henley. Born in the 1970s and raised as an only child, Li observed that “we were the first not to fully know the meaning of the words 'brother' and 'sister.’ … An artist must, after all, speak of his own experience.” (Don’t Touch My Dog, 2011)"},{src:"/images/galleries/1/4-li-tianbing-bleu.jpg",w:800,h:1e3,title:"Li Tianbing has only five black-and-white photos of himself as a boy. “I took photos of children today, so there are overlapping time periods in my painting — my childhood and theirs,” he told The Independent in 2012. (Moi avec mon frere blue, 2007)"},{src:"/images/galleries/1/5-terracotta-daughters.jpg",w:800,h:600,title:"In Terracotta Daughters, each sculpted girl is unique, though each is modeled on one of eight orphans that artist Prune Nourry asked to pose for her. Conceived to echo Xi’an’s “Terracotta Warriors,” Nourry renders the haunting presence of the girls who are missing due to China’s one-child policy. (Terracotta Daughters, 2014)"},{src:"/images/galleries/1/6-terracotta-daughters.jpg",w:800,h:600,title:"After opening in Shanghai, the Terracotta Daughters traveled to Paris, Zurich, New York, and Mexico City for exhibits. In 2015, Nourry buried her artwork in Xi’an, as the Terracotta Warriors were in the third century BCE.  They will be unearthed when China’s gender imbalance is predicted to peak in 2030. (Terracotta Daughters, 2014)"}],n={focus:!1,index:0,showAnimationDuration:0,hideAnimationDuration:0,loop:!1},o=new PhotoSwipe(e,PhotoSwipeUI_Default,t,n);o.init()};document.getElementById("gallery1").onclick=openGallery1;var openGallery2=function(){var e=document.querySelectorAll(".pswp")[0],t=[{src:"/images/galleries/3/1-adoption-group-velvet-couch.jpg",w:800,h:529,title:"On the red couch in Guangzhou’s White Swan Hotel, Maya (third from left) and Jennie (second from right) have the first of many photographs taken with their adoption group 'sisters.'"},{src:"/images/galleries/3/2-adoption-group-jan-2005.jpg",w:800,h:530,title:"Each January for many years our adoption group met at a Cape Cod hotel. After a Chinese dinner out, the girls took their places on the restaurant’s couch. By then, many had sisters also adopted from China. Jennie, in a striped shirt, is behind Maya, in a purple jacket."},{src:"/images/galleries/3/3-adoption-group-summer-2012.jpg",w:800,h:600,title:"As the girls get older, the size of our reunion group shrinks due to other activities at home. Maya (second from right) and Jennie (third from right) hang out with a few of their China 'sisters.'"}],n={focus:!1,index:0,showAnimationDuration:0,hideAnimationDuration:0,loop:!1},o=new PhotoSwipe(e,PhotoSwipeUI_Default,t,n);o.init()};document.getElementById("gallery2").onclick=openGallery2;var openGallery4=function(){var e=document.querySelectorAll(".pswp")[0],t=[{src:"/images/galleries/4/1_Jennie_cabinet.jpg",w:800,h:1116,title:"As a toddler, Jennie loved to empty cabinets and climb in. Small spaces fascinated her."},{src:"/images/galleries/4/2_Jennie_stuffed_animal.jpg",w:800,h:1201,title:"When Jennie was in elementary school, she and her friends played with a stuffed leopard, her school’s mascot."},{src:"/images/galleries/4/3_Jennie_hat.jpg",w:800,h:1195,title:"Lunar New Year was a time for Jennie to share with classmates aspects of her Chinese heritage."},{src:"/images/galleries/4/4_Jennie_1st_grade.jpg",w:800,h:1210,title:"Arriving to first grade, Jennie looked for her teacher’s name."},{src:"/images/galleries/4/5_Jennie_beach.jpg",w:800,h:585,title:"Jennie and her cousin Lucas sometimes celebrated the Fourth of July in Maine."},{src:"/images/galleries/4/6_Jennie_Horse.jpg",w:800,h:1067,title:"Jennie took horseback riding lessons one summer, but a hay allergy put a stop to that activity."},{src:"/images/galleries/4/7_Jennie_Bat_Mitzvah.jpg",w:800,h:1210,title:"Jennie holds the Torah for her Bat Mitzvah, the Jewish coming-of-age ceremony. Her adoption group “sisters” were there to help her celebrate."},{src:"/images/galleries/4/8_Jennie_Israel.JPG",w:800,h:960,title:"In 10th grade, Jennie joined her Hebrew school class on a trip to Israel."}],n={focus:!1,index:0,showAnimationDuration:0,hideAnimationDuration:0,loop:!1},o=new PhotoSwipe(e,PhotoSwipeUI_Default,t,n);o.init()};document.getElementById("gallery4").onclick=openGallery4;var openGallery5=function(){var e=document.querySelectorAll(".pswp")[0],t=[{src:"/images/galleries/5/1_M_M_jjust_home_from_China.jpg",w:800,h:542,title:"Soon after Maya and I got home, friends organized a baby shower to welcome her. While I opened gifts, Maya tugged at my heart — in so many ways! (Stan Grossfeld)"},{src:"/images/galleries/5/2_Maya_YellowFloaty_Smile.jpg",w:800,h:495,title:"Just after Maya’s first birthday, we went to stay with friends so I could attend a wedding — while Maya floated in their pool. (Jackie Judd)"},{src:"/images/galleries/5/3_Sailing.jpg",w:800,h:556,title:"Maya and I sailed with friends on Nantucket Sound. (Christine De Lisle)"},{src:"/images/galleries/5/4_Maya_Great_Wall.jpg",w:800,h:567,title:"In June 2004, when Maya was seven, we went back to China. On a hot, humid day we climbed the Great Wall at Mutianyu."},{src:"/images/galleries/5/5_StepItUp_Walk.jpg",w:800,h:571,title:"When she was 10, Maya and friends co-founded a Roots & Shoots group in Cambridge that led a children’s march as part of a national campaign for action on global warming."},{src:"/images/galleries/5/6_Statue_of_Liberty_Maya.jpg",w:800,h:600,title:"Maya's environmental action group urged people to switch to energy-saving fluorescent light bulbs. What if the Statue of Liberty raised one as her torch?"},{src:"/images/galleries/5/7_Maya_and_Sara.JPG",w:800,h:449,title:"Older than Maya by a decade, Sara (right) was adopted as a baby from Colombia. Through the years, these neighbor girls shared much about their adoption journeys."},{src:"/images/galleries/5/8_Maya_Fan_Dance.jpg",w:800,h:1152,title:"Maya started doing Chinese dance when she was very young. Through high school and beyond, she has continued to perform — here, in a fan dance."},{src:"/images/galleries/5/9_With_aunt_and_cousins_on_steps.JPG",w:800,h:600,title:"In summers, Maya spends time with her older cousin, Allison (left, holding baby) and four younger ones, Augusta (held by Maya’s Aunt Betty, right), Sophia (on Allison’s lap), Anya (front step) and Nate (next to Maya)."},{src:"/images/galleries/5/10_M_M_ride.JPG",w:800,h:600,title:"When Maya was four, her grandfather died of a brain tumor. Since she was seven, Maya and I have ridden our bikes 25 miles each May in her Poppa's memory, raising money for brain tumor research."}],n={focus:!1,index:0,showAnimationDuration:0,hideAnimationDuration:0,loop:!1},o=new PhotoSwipe(e,PhotoSwipeUI_Default,t,n);o.init()};document.getElementById("gallery5").onclick=openGallery5,function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,o,i,a,r,l,s,u,c,d,p,m,h,f,g,y,v,w,x,b=this,I=!1,C=!0,_=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / "},M=function(e){if(y)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&P();for(var n,o,i=e.target||e.srcElement,a=i.className,r=0;r<H.length;r++)n=H[r],n.onTap&&a.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){e.stopPropagation&&e.stopPropagation(),y=!0;var l=t.features.isOldAndroid?600:30;v=setTimeout(function(){y=!1},l)}},S=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>1200},D=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},E=function(){var e=1===g.getNumItemsFn();e!==f&&(D(o,"ui--one-slide",e),f=e)},k=function(){D(s,"share-modal--hidden",_)},A=function(){return _=!_,_?(t.removeClass(s,"pswp__share-modal--fade-in"),setTimeout(function(){_&&k()},300)):(k(),setTimeout(function(){_||t.addClass(s,"pswp__share-modal--fade-in")},30)),_||O(),!1},F=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),n.href?n.hasAttribute("download")?!0:(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),_||A(),!1):!1},O=function(){for(var e,t,n,o,i,a="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],n=g.getImageURLForShare(e),o=g.getPageURLForShare(e),i=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(e,a));s.children[0].innerHTML=a,s.children[0].onclick=F},L=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},R=0,P=function(){clearTimeout(x),R=0,c&&b.setIdle(!1)},Z=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(x),x=setTimeout(function(){b.setIdle(!0)},g.timeToIdleOutside))},z=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},N=function(){g.preloaderEl&&(U(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&U(!1):U(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&U(!0)}))},U=function(e){m!==e&&(D(p,"preloader--active",!e),m=e)},B=function(e){var n=e.vGap;if(S()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),o.insertBefore(a,i),t.addClass(o,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var l=a.clientHeight;n.bottom=parseInt(l,10)||44}else n.bottom=r.top;else n.bottom="auto"===r.bottom?0:r.bottom;n.top=r.top}else n.top=n.bottom=0},G=function(){g.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",P),t.bind(document,"mouseout",Z),w=setInterval(function(){R++,2===R&&b.setIdle(!0)},g.timeToIdle/2)})},j=function(){d("onVerticalDrag",function(e){C&&.95>e?b.hideControls():!C&&e>=.95&&b.showControls()});var e;d("onPinchClose",function(t){C&&.9>t?(b.hideControls(),e=!0):e&&!C&&t>.9&&b.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!C&&b.showControls()})},H=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){s=e},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(e){l=e},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],W=function(){var e,n,i,a=function(o){if(o)for(var a=o.length,r=0;a>r;r++){e=o[r],n=e.className;for(var l=0;l<H.length;l++)i=H[l],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(o.children);var r=t.getChildByClass(o,"pswp__top-bar");r&&a(r.children)};b.init=function(){t.extend(e.options,T,!0),g=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,j(),d("beforeChange",b.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.className&&e.type.indexOf("mouse")>-1&&(o.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(o,"pswpTap click",M),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),d("unbindEvents",function(){_||A(),w&&clearInterval(w),t.unbind(document,"mouseout",Z),t.unbind(document,"mousemove",P),t.unbind(o,"pswpTap click",M),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){g.captionEl&&(a&&o.removeChild(a),t.removeClass(i,"pswp__caption--empty")),s&&(s.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),b.setIdle(!1)}),g.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),d("parseVerticalMargin",B),W(),g.shareEl&&l&&s&&(_=!0),E(),G(),z(),N()},b.setIdle=function(e){c=e,D(o,"ui--idle",e)},b.update=function(){C&&e.currItem?(b.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),D(i,"caption--empty",!e.currItem.title)),I=!0):I=!1,_||A(),E()},b.updateFullscreen=function(o){o&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},b.onGlobalTap=function(n){n=n||window.event;var o=n.target||n.srcElement;if(!y)if(n.detail&&"mouse"===n.detail.pointerType){if(L(o))return void e.close();t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(C?b.hideControls():b.showControls()),g.tapToClose&&(t.hasClass(o,"pswp__img")||L(o)))return void e.close()},b.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;D(o,"ui--over-close",L(t))},b.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),C=!1},b.showControls=function(){C=!0,I||b.update(),t.removeClass(o,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return u=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=u,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,n,o){var i={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,n="",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var a=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10),r>=1&&8>r&&(o.isOldIOSPhone=!0))}var l=a.match(/Android\s([0-9\.]*)/),s=l?l[1]:0;s=parseFloat(s),s>=1&&(4.4>s&&(o.isOldAndroid=!0),o.androidVersion=s),o.isMobileOpera=/opera mini|opera mobi/i.test(a)}for(var u,c,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],m=0;4>m;m++){n=p[m];for(var h=0;3>h;h++)u=d[h],c=n+(n?u.charAt(0).toUpperCase()+u.slice(1):u),!o[u]&&c in t&&(o[u]=c);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!o.raf){var f=0;o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-f)),o=window.setTimeout(function(){e(t+n)},n);return f=t+n,o},o.caf=function(e){clearTimeout(e)}}return o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,o){t=t.split(" ");for(var i,a=(o?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(i=t[l])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=r;e[a]("on"+i,n["oldIE"+i])}else e[a]("on"+i,n)});var a=this,r=25,l=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(s,o);var u,c,d,p,m,h,f,g,y,v,w,x,b,I,C,_,T,M,S,D,E,k,A,F,O,L,R,P,Z,z,N,U,B,G,j,H,W,K,J,Y,q,X,V,$,Q,ee,te,ne,oe,ie,ae,re,le,se,ue,ce,de=function(){return{x:0,y:0}},pe=de(),me=de(),he=de(),fe={},ge=0,ye={},ve=de(),we=0,xe=!0,be=[],Ie={},Ce=!1,_e=function(e,t){i.extend(a,t.publicMethods),be.push(e)},Te=function(e){var t=Qt();return e>t-1?e-t:0>e?t+e:e},Me={},Se=function(e,t){return Me[e]||(Me[e]=[]),Me[e].push(t)},De=function(e){var t=Me[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(a,n)}},Ee=function(){return(new Date).getTime()},ke=function(e){se=e,a.bg.style.opacity=e*s.bgOpacity},Ae=function(e,t,n,o,i){(!Ce||i&&i!==a.currItem)&&(o/=i?i.fitRatio:a.currItem.fitRatio),e[k]=x+t+"px, "+n+"px"+b+" scale("+o+")"},Fe=function(e){oe&&(e&&(v>a.currItem.fitRatio?Ce||(pn(a.currItem,!1,!0),Ce=!0):Ce&&(pn(a.currItem),Ce=!1)),Ae(oe,he.x,he.y,v))},Oe=function(e){e.container&&Ae(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Le=function(e,t){t[k]=x+e+"px, 0px"+b},Re=function(e,t){if(!s.loop&&t){var n=p+(ve.x*ge-e)/ve.x,o=Math.round(e-vt.x);(0>n&&o>0||n>=Qt()-1&&0>o)&&(e=vt.x+o*s.mainScrollEndFriction)}vt.x=e,Le(e,m)},Pe=function(e,t){var n=wt[e]-ye[e];return me[e]+pe[e]+n-n*(t/w)},Ze=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},ze=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ne=null,Ue=function(){Ne&&(i.unbind(document,"mousemove",Ue),i.addClass(e,"pswp--has_mouse"),s.mouseUsed=!0,De("mouseUsed")),Ne=setTimeout(function(){Ne=null},100)},Be=function(){i.bind(document,"keydown",a),N.transform&&i.bind(a.scrollWrap,"click",a),s.mouseUsed||i.bind(document,"mousemove",Ue),i.bind(window,"resize scroll",a),De("bindEvents")},Ge=function(){i.unbind(window,"resize",a),i.unbind(window,"scroll",y.scroll),i.unbind(document,"keydown",a),i.unbind(document,"mousemove",Ue),N.transform&&i.unbind(a.scrollWrap,"click",a),K&&i.unbind(window,f,a),De("unbindEvents")},je=function(e,t){var n=sn(a.currItem,fe,e);return t&&(ne=n),n},He=function(e){return e||(e=a.currItem),e.initialZoomLevel},We=function(e){return e||(e=a.currItem),e.w>0?s.maxSpreadZoom:1},Ke=function(e,t,n,o){return o===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=Pe(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]?(n[e]=t.max[e],!0):!1)},Je=function(){if(k){var t=N.perspective&&!F;return x="translate"+(t?"3d(":"("),void(b=N.perspective?", 0px)":")")}k="left",i.addClass(e,"pswp--ie"),Le=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Fe=function(){if(oe){var e=oe,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,o=n*t.w,i=n*t.h;e.width=o+"px",e.height=i+"px",e.left=he.x+"px",e.top=he.y+"px"}}},Ye=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},qe=function(e){e&&(q||Y||ie||H)&&(e.preventDefault(),e.stopPropagation())},Xe=function(){a.setScrollOffset(0,i.getScrollY())},Ve={},$e=0,Qe=function(e){Ve[e]&&(Ve[e].raf&&L(Ve[e].raf),$e--,delete Ve[e])},et=function(e){Ve[e]&&Qe(e),Ve[e]||($e++,Ve[e]={})},tt=function(){for(var e in Ve)Ve.hasOwnProperty(e)&&Qe(e)},nt=function(e,t,n,o,i,a,r){var l,s=Ee();et(e);var u=function(){if(Ve[e]){if(l=Ee()-s,l>=o)return Qe(e),a(n),void(r&&r());a((n-t)*i(l/o)+t),Ve[e].raf=O(u)}};u()},ot={shout:De,listen:Se,viewportSize:fe,options:s,isMainScrollAnimating:function(){return ie},getZoomLevel:function(){return v},getCurrentIndex:function(){return p},isDragging:function(){return K},isZooming:function(){return Q},setScrollOffset:function(e,t){ye.x=e,z=ye.y=t,De("updateScrollOffset",ye)},applyZoomPan:function(e,t,n,o){he.x=t,he.y=n,v=e,Fe(o)},init:function(){if(!u&&!c){var n;a.framework=i,a.template=e,a.bg=i.getChildByClass(e,"pswp__bg"),R=e.className,u=!0,N=i.detectFeatures(),O=N.raf,L=N.caf,k=N.transform,Z=N.oldIE,a.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),a.container=i.getChildByClass(a.scrollWrap,"pswp__container"),m=a.container.style,a.itemHolders=_=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],_[0].el.style.display=_[2].el.style.display="none",Je(),y={resize:a.updateSize,scroll:Xe,keydown:Ye,click:qe};var o=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<be.length;n++)a["init"+be[n]]();if(t){var r=a.ui=new t(a,i);r.init()}De("firstUpdate"),p=p||s.index||0,(isNaN(p)||0>p||p>=Qt())&&(p=0),a.currItem=$t(p),(N.isOldIOSPhone||N.isOldAndroid)&&(xe=!1),e.setAttribute("aria-hidden","false"),s.modal&&(xe?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===z&&(De("initialLayout"),z=P=i.getScrollY());var d="pswp--open ";for(s.mainClass&&(d+=s.mainClass+" "),s.showHideOpacity&&(d+="pswp--animate_opacity "),d+=F?"pswp--touch":"pswp--notouch",d+=N.animationName?" pswp--css_animation":"",d+=N.svg?" pswp--svg":"",i.addClass(e,d),a.updateSize(),h=-1,we=null,n=0;l>n;n++)Le((n+h)*ve.x,_[n].el.style);Z||i.bind(a.scrollWrap,g,a),Se("initialZoomInEnd",function(){a.setContent(_[0],p-1),a.setContent(_[2],p+1),_[0].el.style.display=_[2].el.style.display="block",s.focus&&e.focus(),Be()}),a.setContent(_[1],p),a.updateCurrItem(),De("afterInit"),xe||(I=setInterval(function(){$e||K||Q||v!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){u&&(u=!1,c=!0,De("close"),Ge(),tn(a.currItem,null,!0,a.destroy))},destroy:function(){De("destroy"),Yt&&clearTimeout(Yt),e.setAttribute("aria-hidden","true"),e.className=R,I&&clearInterval(I),i.unbind(a.scrollWrap,g,a),i.unbind(window,"scroll",a),_t(),tt(),Me=null},panTo:function(e,t,n){n||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),he.x=e,he.y=t,Fe()},handleEvent:function(e){e=e||window.event,y[e.type]&&y[e.type](e)},goTo:function(e){e=Te(e);var t=e-p;we=t,p=e,a.currItem=$t(p),ge-=t,Re(ve.x*ge),tt(),ie=!1,a.updateCurrItem()},next:function(){a.goTo(p+1)},prev:function(){a.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&De("beforeChange",0),_[1].el.children.length){var t=_[1].el.children[0];oe=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else oe=null;ne=a.currItem.bounds,w=v=a.currItem.initialZoomLevel,he.x=ne.center.x,he.y=ne.center.y,e&&De("afterChange")},invalidateCurrItems:function(){C=!0;for(var e=0;l>e;e++)_[e].item&&(_[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==we){var t,n=Math.abs(we);if(!(e&&2>n)){a.currItem=$t(p),Ce=!1,De("beforeChange",we),n>=l&&(h+=we+(we>0?-l:l),n=l);for(var o=0;n>o;o++)we>0?(t=_.shift(),_[l-1]=t,h++,Le((h+2)*ve.x,t.el.style),a.setContent(t,p-n+o+1+1)):(t=_.pop(),_.unshift(t),h--,Le(h*ve.x,t.el.style),a.setContent(t,p+n-o-1-1));if(oe&&1===Math.abs(we)){var i=$t(T);i.initialZoomLevel!==v&&(sn(i,fe),pn(i),Oe(i))}we=0,a.updateCurrZoomItem(),T=p,De("afterChange")}}},updateSize:function(t){if(!xe&&s.modal){var n=i.getScrollY();if(z!==n&&(e.style.top=n+"px",z=n),!t&&Ie.x===window.innerWidth&&Ie.y===window.innerHeight)return;Ie.x=window.innerWidth,Ie.y=window.innerHeight,e.style.height=Ie.y+"px"}if(fe.x=a.scrollWrap.clientWidth,fe.y=a.scrollWrap.clientHeight,Xe(),ve.x=fe.x+Math.round(fe.x*s.spacing),ve.y=fe.y,Re(ve.x*ge),De("beforeResize"),void 0!==h){for(var o,r,u,c=0;l>c;c++)o=_[c],Le((c+h)*ve.x,o.el.style),u=p+c-1,s.loop&&Qt()>2&&(u=Te(u)),r=$t(u),r&&(C||r.needsUpdate||!r.bounds)?(a.cleanSlide(r),a.setContent(o,u),1===c&&(a.currItem=r,a.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===o.index&&u>=0&&a.setContent(o,u),r&&r.container&&(sn(r,fe),pn(r),Oe(r));C=!1}w=v=a.currItem.initialZoomLevel,ne=a.currItem.bounds,ne&&(he.x=ne.center.x,he.y=ne.center.y,Fe(!0)),De("resize")},zoomTo:function(e,t,n,o,a){t&&(w=v,wt.x=Math.abs(t.x)-he.x,wt.y=Math.abs(t.y)-he.y,Ze(me,he));var r=je(e,!1),l={};Ke("x",r,l,e),Ke("y",r,l,e);var s=v,u={x:he.x,y:he.y};ze(l);var c=function(t){1===t?(v=e,he.x=l.x,he.y=l.y):(v=(e-s)*t+s,he.x=(l.x-u.x)*t+u.x,he.y=(l.y-u.y)*t+u.y),a&&a(t),Fe(1===t)};n?nt("customZoomTo",0,1,n,o||i.easing.sine.inOut,c):c(1)}},it=30,at=10,rt={},lt={},st={},ut={},ct={},dt=[],pt={},mt=[],ht={},ft=0,gt=de(),yt=0,vt=de(),wt=de(),xt=de(),bt=function(e,t){return e.x===t.x&&e.y===t.y},It=function(e,t){return Math.abs(e.x-t.x)<r&&Math.abs(e.y-t.y)<r},Ct=function(e,t){return ht.x=Math.abs(e.x-t.x),ht.y=Math.abs(e.y-t.y),Math.sqrt(ht.x*ht.x+ht.y*ht.y)},_t=function(){X&&(L(X),X=null)},Tt=function(){K&&(X=O(Tt),Bt())},Mt=function(){return!("fit"===s.scaleMode&&v===a.currItem.initialZoomLevel)},St=function(e,t){return e?e.className&&e.className.indexOf("pswp__scroll-wrap")>-1?!1:t(e)?e:St(e.parentNode,t):!1},Dt={},Et=function(e,t){return Dt.prevent=!St(e.target,s.isClickableElement),De("preventDragEvent",e,t,Dt),Dt.prevent},kt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},At=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Ft=function(e,t,n){if(e-B>50){var o=mt.length>2?mt.shift():{};o.x=t,o.y=n,mt.push(o),B=e}},Ot=function(){var e=he.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(fe.y/2))},Lt={},Rt={},Pt=[],Zt=function(e){for(;Pt.length>0;)Pt.pop();return A?(ce=0,dt.forEach(function(e){0===ce?Pt[0]=e:1===ce&&(Pt[1]=e),ce++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Pt[0]=kt(e.touches[0],Lt),e.touches.length>1&&(Pt[1]=kt(e.touches[1],Rt))):(Lt.x=e.pageX,Lt.y=e.pageY,Lt.id="",Pt[0]=Lt),Pt},zt=function(e,t){var n,o,i,r,l=0,u=he[e]+t[e],c=t[e]>0,d=vt.x+t.x,p=vt.x-pt.x;return n=u>ne.min[e]||u<ne.max[e]?s.panEndFriction:1,u=he[e]+t[e]*n,!s.allowPanToNext&&v!==a.currItem.initialZoomLevel||(oe?"h"!==ae||"x"!==e||Y||(c?(u>ne.min[e]&&(n=s.panEndFriction,l=ne.min[e]-u,o=ne.min[e]-me[e]),(0>=o||0>p)&&Qt()>1?(r=d,0>p&&d>pt.x&&(r=pt.x)):ne.min.x!==ne.max.x&&(i=u)):(u<ne.max[e]&&(n=s.panEndFriction,l=u-ne.max[e],o=me[e]-ne.max[e]),(0>=o||p>0)&&Qt()>1?(r=d,p>0&&d<pt.x&&(r=pt.x)):ne.min.x!==ne.max.x&&(i=u))):r=d,"x"!==e)?void(ie||V||v>a.currItem.fitRatio&&(he[e]+=t[e]*n)):(void 0!==r&&(Re(r,!0),V=r===pt.x?!1:!0),ne.min.x!==ne.max.x&&(void 0!==i?he.x=i:V||(he.x+=t.x*n)),void 0!==r)},Nt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Vt)return void e.preventDefault();if(!W||"mousedown"!==e.type){if(Et(e,!0)&&e.preventDefault(),De("pointerDown"),A){var t=i.arraySearch(dt,e.pointerId,"id");0>t&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Zt(e),o=n.length;$=null,tt(),K&&1!==o||(K=re=!0,i.bind(window,f,a),j=ue=le=H=V=q=J=Y=!1,ae=null,De("firstTouchStart",n),Ze(me,he),pe.x=pe.y=0,
Ze(ut,n[0]),Ze(ct,ut),pt.x=ve.x*ge,mt=[{x:ut.x,y:ut.y}],B=U=Ee(),je(v,!0),_t(),Tt()),!Q&&o>1&&!ie&&!V&&(w=v,Y=!1,Q=J=!0,pe.y=pe.x=0,Ze(me,he),Ze(rt,n[0]),Ze(lt,n[1]),At(rt,lt,xt),wt.x=Math.abs(xt.x)-he.x,wt.y=Math.abs(xt.y)-he.y,ee=te=Ct(rt,lt))}}},Ut=function(e){if(e.preventDefault(),A){var t=i.arraySearch(dt,e.pointerId,"id");if(t>-1){var n=dt[t];n.x=e.pageX,n.y=e.pageY}}if(K){var o=Zt(e);if(ae||q||Q)$=o;else if(vt.x!==ve.x*ge)ae="h";else{var a=Math.abs(o[0].x-ut.x)-Math.abs(o[0].y-ut.y);Math.abs(a)>=at&&(ae=a>0?"h":"v",$=o)}}},Bt=function(){if($){var e=$.length;if(0!==e)if(Ze(rt,$[0]),st.x=rt.x-ut.x,st.y=rt.y-ut.y,Q&&e>1){if(ut.x=rt.x,ut.y=rt.y,!st.x&&!st.y&&bt($[1],lt))return;Ze(lt,$[1]),Y||(Y=!0,De("zoomGestureStarted"));var t=Ct(rt,lt),n=Kt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ue=!0);var o=1,i=He(),r=We();if(i>n)if(s.pinchToClose&&!ue&&w<=a.currItem.initialZoomLevel){var l=i-n,u=1-l/(i/1.2);ke(u),De("onPinchClose",u),le=!0}else o=(i-n)/i,o>1&&(o=1),n=i-o*(i/3);else n>r&&(o=(n-r)/(6*i),o>1&&(o=1),n=r+o*i);0>o&&(o=0),ee=t,At(rt,lt,gt),pe.x+=gt.x-xt.x,pe.y+=gt.y-xt.y,Ze(xt,gt),he.x=Pe("x",n),he.y=Pe("y",n),j=n>v,v=n,Fe()}else{if(!ae)return;if(re&&(re=!1,Math.abs(st.x)>=at&&(st.x-=$[0].x-ct.x),Math.abs(st.y)>=at&&(st.y-=$[0].y-ct.y)),ut.x=rt.x,ut.y=rt.y,0===st.x&&0===st.y)return;if("v"===ae&&s.closeOnVerticalDrag&&!Mt()){pe.y+=st.y,he.y+=st.y;var c=Ot();return H=!0,De("onVerticalDrag",c),ke(c),void Fe()}Ft(Ee(),rt.x,rt.y),q=!0,ne=a.currItem.bounds;var d=zt("x",st);d||(zt("y",st),ze(he),Fe())}}},Gt=function(e){if(N.isOldAndroid){if(W&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}De("pointerUp"),Et(e,!1)&&e.preventDefault();var t;if(A){var n=i.arraySearch(dt,e.pointerId,"id");if(n>-1)if(t=dt.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var o={4:"mouse",2:"touch",3:"pen"};t.type=o[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var r,l=Zt(e),u=l.length;if("mouseup"===e.type&&(u=0),2===u)return $=null,!0;1===u&&Ze(ct,l[0]),0!==u||ae||ie||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),De("touchRelease",e,t));var c=-1;if(0===u&&(K=!1,i.unbind(window,f,a),_t(),Q?c=0:-1!==yt&&(c=Ee()-yt)),yt=1===u?Ee():-1,r=-1!==c&&150>c?"zoom":"swipe",Q&&2>u&&(Q=!1,1===u&&(r="zoomPointerUp"),De("zoomGestureEnded")),$=null,q||Y||ie||H)if(tt(),G||(G=jt()),G.calculateSwipeSpeed("x"),H){var d=Ot();if(d<s.verticalDragRange)a.close();else{var p=he.y,m=se;nt("verticalDrag",0,1,300,i.easing.cubic.out,function(e){he.y=(a.currItem.initialPosition.y-p)*e+p,ke((1-m)*e+m),Fe()}),De("onVerticalDrag",1)}}else{if((V||ie)&&0===u){var h=Wt(r,G);if(h)return;r="zoomPointerUp"}if(!ie)return"swipe"!==r?void Jt():void(!V&&v>a.currItem.fitRatio&&Ht(G))}},jt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){mt.length>1?(e=Ee()-B+50,t=mt[mt.length-2][o]):(e=Ee()-U,t=ct[o]),n.lastFlickOffset[o]=ut[o]-t,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickSpeed[o]=n.lastFlickDist[o]>20?n.lastFlickOffset[o]/e:0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(he[e]>ne.min[e]?n.backAnimDestination[e]=ne.min[e]:he[e]<ne.max[e]&&(n.backAnimDestination[e]=ne.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,he[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){he[e]=t,Fe()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,he[e]+=n.distanceOffset[e])},panAnimLoop:function(){return Ve.zoomPan&&(Ve.zoomPan.raf=O(n.panAnimLoop),n.now=Ee(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Fe(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05)?(he.x=Math.round(he.x),he.y=Math.round(he.y),Fe(),void Qe("zoomPan")):void 0}};return n},Ht=function(e){return e.calculateSwipeSpeed("y"),ne=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=Ee(),void e.panAnimLoop())},Wt=function(e,t){var n;ie||(ft=p);var o;if("swipe"===e){var r=ut.x-ct.x,l=t.lastFlickDist.x<10;r>it&&(l||t.lastFlickOffset.x>20)?o=-1:-it>r&&(l||t.lastFlickOffset.x<-20)&&(o=1)}var u;o&&(p+=o,0>p?(p=s.loop?Qt()-1:0,u=!0):p>=Qt()&&(p=s.loop?0:Qt()-1,u=!0),(!u||s.loop)&&(we+=o,ge-=o,n=!0));var c,d=ve.x*ge,m=Math.abs(d-vt.x);return n||d>vt.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?m/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,ft===p&&(n=!1),ie=!0,De("mainScrollAnimStart"),nt("mainScroll",vt.x,d,c,i.easing.cubic.out,Re,function(){tt(),ie=!1,ft=-1,(n||ft!==p)&&a.updateCurrItem(),De("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Kt=function(e){return 1/te*e*w},Jt=function(){var e=v,t=He(),n=We();t>v?e=t:v>n&&(e=n);var o,r=1,l=se;return le&&!j&&!ue&&t>v?(a.close(),!0):(le&&(o=function(e){ke((r-l)*e+l)}),a.zoomTo(e,0,200,i.easing.cubic.out,o),!0)};_e("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,i){M=e+t,S=e+n,D=e+o,E=i?e+i:""};A=N.pointerEvent,A&&N.touch&&(N.touch=!1),A?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):N.touch?(e("touch","start","move","end","cancel"),F=!0):e("mouse","down","move","up"),f=S+" "+D+" "+E,g=M,A&&!F&&(F=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=F,y[M]=Nt,y[S]=Ut,y[D]=Gt,E&&(y[E]=y[D]),N.touch&&(g+=" mousedown",f+=" mousemove mouseup",y.mousedown=y[M],y.mousemove=y[S],y.mouseup=y[D]),F||(s.allowPanToNext=!1)}}});var Yt,qt,Xt,Vt,$t,Qt,en,tn=function(t,n,o,r){Yt&&clearTimeout(Yt),Vt=!0,Xt=!0;var l;t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=s.getThumbBoundsFn&&s.getThumbBoundsFn(p);var u=o?s.hideAnimationDuration:s.showAnimationDuration,c=function(){Qe("initialZoom"),o?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(ke(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),De("initialZoom"+(o?"OutEnd":"InEnd"))),r&&r(),Vt=!1};if(!u||!l||void 0===l.x)return De("initialZoom"+(o?"Out":"In")),v=t.initialZoomLevel,Ze(he,t.initialPosition),Fe(),e.style.opacity=o?0:1,ke(1),void(u?setTimeout(function(){c()},u):c());var m=function(){var n=d,r=!a.currItem.src||a.currItem.loadError||s.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),o||(v=l.w/t.w,he.x=l.x,he.y=l.y-P,a[r?"template":"bg"].style.opacity=.001,Fe()),et("initialZoom"),o&&!n&&i.removeClass(e,"pswp--animated-in"),r&&(o?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),Yt=setTimeout(function(){if(De("initialZoom"+(o?"Out":"In")),o){var a=l.w/t.w,s={x:he.x,y:he.y},d=v,p=se,m=function(t){1===t?(v=a,he.x=l.x,he.y=l.y-z):(v=(a-d)*t+d,he.x=(l.x-s.x)*t+s.x,he.y=(l.y-z-s.y)*t+s.y),Fe(),r?e.style.opacity=1-t:ke(p-t*p)};n?nt("initialZoom",0,1,u,i.easing.cubic.out,m,c):(m(1),Yt=setTimeout(c,u+20))}else v=t.initialZoomLevel,Ze(he,t.initialPosition),Fe(),ke(1),r?e.style.opacity=1:ke(1),Yt=setTimeout(c,u+20)},o?25:90)};m()},nn={},on=[],an={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return qt.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ln=function(e,t,n){var o=e.bounds;o.center.x=Math.round((nn.x-t)/2),o.center.y=Math.round((nn.y-n)/2)+e.vGap.top,o.max.x=t>nn.x?Math.round(nn.x-t):o.center.x,o.max.y=n>nn.y?Math.round(nn.y-n)+e.vGap.top:o.center.y,o.min.x=t>nn.x?0:o.center.x,o.min.y=n>nn.y?e.vGap.top:o.center.y},sn=function(e,t,n){if(e.src&&!e.loadError){var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),De("parseVerticalMargin",e)),nn.x=t.x,nn.y=t.y-e.vGap.top-e.vGap.bottom,o){var i=nn.x/e.w,a=nn.y/e.h;e.fitRatio=a>i?i:a;var r=s.scaleMode;"orig"===r?n=1:"fit"===r&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=rn())}if(!n)return;return ln(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds},un=function(e,t,n,o,i,r){t.loadError||o&&(t.imageAppended=!0,pn(t,o,t===a.currItem&&Ce),n.appendChild(o),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},cn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},dn=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0):void 0},pn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var o=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=i+"px"),t.style.width=o+"px",t.style.height=i+"px"}},mn=function(){if(on.length){for(var e,t=0;t<on.length;t++)e=on[t],e.holder.index===e.index&&un(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);on=[]}};_e("Controller",{publicMethods:{lazyLoadItem:function(e){e=Te(e);var t=$t(e);t&&(!t.loaded&&!t.loading||C)&&(De("gettingData",e,t),t.src&&cn(t))},initController:function(){i.extend(s,an,!0),a.items=qt=n,$t=a.getItemAt,Qt=s.getNumItemsFn,en=s.loop,Qt()<3&&(s.loop=!1),Se("beforeChange",function(e){var t,n=s.preload,o=null===e?!0:e>=0,i=Math.min(n[0],Qt()),r=Math.min(n[1],Qt());for(t=1;(o?r:i)>=t;t++)a.lazyLoadItem(p+t);for(t=1;(o?i:r)>=t;t++)a.lazyLoadItem(p-t)}),Se("initialLayout",function(){a.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(p)}),Se("mainScrollAnimComplete",mn),Se("initialZoomInEnd",mn),Se("destroy",function(){for(var e,t=0;t<qt.length;t++)e=qt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);on=null})},getItemAt:function(e){return e>=0&&void 0!==qt[e]?qt[e]:!1},allowProgressiveImg:function(){return s.forceProgressiveLoading||!F||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=Te(t));var n=a.getItemAt(e.index);n&&(n.container=null);var o,r=a.getItemAt(t);if(!r)return void(e.el.innerHTML="");De("gettingData",t,r),e.index=t,e.item=r;var l=r.container=i.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?l.appendChild(r.html):l.innerHTML=r.html),dn(r),sn(r,fe),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&(o=i.createEl("pswp__img","img"),o.style.opacity=1,o.src=r.src,pn(r,o),un(t,r,l,o,!0));else{if(r.loadComplete=function(n){if(u){if(e&&e.index===t){if(dn(n,!0))return n.loadComplete=n.img=null,sn(n,fe),Oe(n),void(e.index===p&&a.updateCurrZoomItem());n.imageAppended?!Vt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):N.transform&&(ie||Vt)?on.push({item:n,baseDiv:l,img:n.img,index:t,holder:e,clearPlaceholder:!0}):un(t,n,l,n.img,ie||Vt,!0)}n.loadComplete=null,n.img=null,De("imageLoadComplete",t,n)}},i.features.transform){var c="pswp__img pswp__img--placeholder";c+=r.msrc?"":" pswp__img--placeholder--blank";var d=i.createEl(c,r.msrc?"img":"");r.msrc&&(d.src=r.msrc),pn(r,d),l.appendChild(d),r.placeholder=d}r.loading||cn(r),a.allowProgressiveImg()&&(!Xt&&N.transform?on.push({item:r,baseDiv:l,img:r.img,index:t,holder:e}):un(t,r,l,r.img,!0,!0))}Xt||t!==p?Oe(r):(oe=l.style,tn(r,o||r.img)),e.el.innerHTML="",e.el.appendChild(l)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var hn,fn={},gn=function(e,t,n){var o=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(o)};_e("Tap",{publicMethods:{initTap:function(){Se("firstTouchStart",a.onTapStart),Se("touchRelease",a.onTapRelease),Se("destroy",function(){fn={},hn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(hn),hn=null)},onTapRelease:function(e,t){if(t&&!q&&!J&&!$e){var n=t;if(hn&&(clearTimeout(hn),hn=null,It(n,fn)))return void De("doubleTap",n);if("mouse"===t.type)return void gn(e,t,"mouse");var o=e.target.tagName.toUpperCase();if("BUTTON"===o||i.hasClass(e.target,"pswp__single-tap"))return void gn(e,t);Ze(fn,n),hn=setTimeout(function(){gn(e,t),hn=null},300)}}}});var yn;_e("DesktopZoom",{publicMethods:{initDesktopZoom:function(){Z||(F?Se("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){yn={};var n="wheel mousewheel DOMMouseScroll";Se("bindEvents",function(){i.bind(e,n,a.handleMouseWheel)}),Se("unbindEvents",function(){yn&&i.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var o,r=function(){a.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),1>v?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),l()},l=function(){o&&(i.removeClass(e,"pswp--dragging"),o=!1)};Se("resize",r),Se("afterChange",r),Se("pointerDown",function(){a.mouseZoomedIn&&(o=!0,i.addClass(e,"pswp--dragging"))}),Se("pointerUp",l),t||r()},handleMouseWheel:function(e){if(v<=a.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||$e||K?e.preventDefault():k&&Math.abs(e.deltaY)>2&&(d=!0,a.close())),!0;if(e.stopPropagation(),yn.x=0,"deltaX"in e)1===e.deltaMode?(yn.x=18*e.deltaX,yn.y=18*e.deltaY):(yn.x=e.deltaX,yn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(yn.x=-.16*e.wheelDeltaX),yn.y=e.wheelDeltaY?-.16*e.wheelDeltaY:-.16*e.wheelDelta;else{if(!("detail"in e))return;yn.y=e.detail}je(v,!0);var t=he.x-yn.x,n=he.y-yn.y;(s.modal||t<=ne.min.x&&t>=ne.max.x&&n<=ne.min.y&&n>=ne.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:fe.x/2+ye.x,y:fe.y/2+ye.y};var n=s.getDoubleTapZoom(!0,a.currItem),o=v===n;a.mouseZoomedIn=!o,a.zoomTo(o?a.currItem.initialZoomLevel:n,t,333),i[(o?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var vn,wn,xn,bn,In,Cn,_n,Tn,Mn,Sn,Dn,En,kn={history:!0,galleryUID:1},An=function(){return Dn.hash.substring(1)},Fn=function(){vn&&clearTimeout(vn),xn&&clearTimeout(xn)},On=function(){var e=An(),t={};if(e.length<5)return t;var n,o=e.split("&");for(n=0;n<o.length;n++)if(o[n]){var i=o[n].split("=");i.length<2||(t[i[0]]=i[1])}if(s.galleryPIDs){var a=t.pid;for(t.pid=0,n=0;n<qt.length;n++)if(qt[n].pid===a){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Ln=function(){if(xn&&clearTimeout(xn),$e||K)return void(xn=setTimeout(Ln,500));bn?clearTimeout(wn):bn=!0;var e=p+1,t=$t(p);t.hasOwnProperty("pid")&&(e=t.pid);var n=_n+"&gid="+s.galleryUID+"&pid="+e;Tn||-1===Dn.hash.indexOf(n)&&(Sn=!0);var o=Dn.href.split("#")[0]+"#"+n;En?"#"+n!==window.location.hash&&history[Tn?"replaceState":"pushState"]("",document.title,o):Tn?Dn.replace(o):Dn.hash=n,Tn=!0,wn=setTimeout(function(){bn=!1},60)};_e("History",{publicMethods:{initHistory:function(){if(i.extend(s,kn,!0),s.history){Dn=window.location,Sn=!1,Mn=!1,Tn=!1,_n=An(),En="pushState"in history,_n.indexOf("gid=")>-1&&(_n=_n.split("&gid=")[0],_n=_n.split("?gid=")[0]),Se("afterChange",a.updateURL),Se("unbindEvents",function(){i.unbind(window,"hashchange",a.onHashChange)});var e=function(){Cn=!0,Mn||(Sn?history.back():_n?Dn.hash=_n:En?history.pushState("",document.title,Dn.pathname+Dn.search):Dn.hash=""),Fn()};Se("unbindEvents",function(){d&&e()}),Se("destroy",function(){Cn||e()}),Se("firstUpdate",function(){p=On().pid});var t=_n.indexOf("pid=");t>-1&&(_n=_n.substring(0,t),"&"===_n.slice(-1)&&(_n=_n.slice(0,-1))),setTimeout(function(){u&&i.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return An()===_n?(Mn=!0,void a.close()):void(bn||(In=!0,a.goTo(On().pid),In=!1))},updateURL:function(){Fn(),In||(Tn?vn=setTimeout(Ln,800):Ln())}}}),i.extend(a,ot)};return e});